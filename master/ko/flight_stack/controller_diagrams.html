
<!DOCTYPE HTML>
<html lang="ko" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>컨트롤러 구성도 · PX4 Developer Guide</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-richquotes/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-versions-select/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-dronecode/theme_styles.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../concept/dronecode_architecture.html" />
    
    
    <link rel="prev" href="../concept/architecture.html" />
    

    </head>
    <body>
        
    
    <!-- ##HW Add dronecode menu -->
    <div id="common_dronecode_menu">

      <div class="common_menu_logo large_version">
        <a href="https://www.dronecode.org/">
          <img src="../../gitbook/gitbook-plugin-theme-dronecode/images/dronecode_top_bar_logo_full.png" alt="Dronecode logo (large)" />
        </a>
      </div>
      <div class="common_menu_logo small_version">
        <a href="https://www.dronecode.org/">
          <img src="../../gitbook/gitbook-plugin-theme-dronecode/images/dronecode_top_bar_logo_small.png" alt="Dronecode logo (small)" />
        </a>
      </div>
      
      <div class="common_menu_options">
        
            <div class="common_dronecode_menu_item"><a href="http://px4.io/">PX4</a></div>
            <div class="common_dronecode_menu_item large_version"><a href="http://qgroundcontrol.com/">QGroundControl</a></div>
            <div class="common_dronecode_menu_item small_version"><a href="http://qgroundcontrol.com/">QGC</a></div>
            <div class="common_dronecode_menu_item"><a href="https://www.dronecode.org/sdk/">SDK</a></div>
            <div class="common_dronecode_menu_item"><a href="https://mavlink.io/en/">MAVLink</a></div>
            <div class="common_dronecode_menu_item large_version"><a href="https://www.dronecode.org/documentation/">Documentation</a></div>
            <div class="common_dronecode_menu_item small_version"><a href="https://www.dronecode.org/documentation/">Docs</a></div>
            <div class="common_dronecode_menu_item large_version"><a href="http://discuss.px4.io/">Support</a></div>
            <div class="common_dronecode_menu_item small_version"><a href="http://discuss.px4.io/">Help</a></div>
        
      </div>
    </div>
    
<!-- ##HW END Add dronecode menu -->
    
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="검색어 입력" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    소개
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../setup/getting_started.html">
            
                <a href="../setup/getting_started.html">
            
                    
                    시작하기
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../setup/config_initial.html">
            
                <a href="../setup/config_initial.html">
            
                    
                    초기 설정
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../setup/dev_env.html">
            
                <a href="../setup/dev_env.html">
            
                    
                    툴체인 설치
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../setup/dev_env_mac.html">
            
                <a href="../setup/dev_env_mac.html">
            
                    
                    맥 OS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../setup/dev_env_linux.html">
            
                <a href="../setup/dev_env_linux.html">
            
                    
                    리눅스
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.2.1" data-path="../setup/dev_env_linux_ubuntu.html">
            
                <a href="../setup/dev_env_linux_ubuntu.html">
            
                    
                    우분투/데비안 리눅스
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2.2" data-path="../setup/dev_env_linux_centos.html">
            
                <a href="../setup/dev_env_linux_centos.html">
            
                    
                    센트OS 리눅스
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2.3" data-path="../setup/dev_env_linux_arch.html">
            
                <a href="../setup/dev_env_linux_arch.html">
            
                    
                    아치 리눅스
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2.4" data-path="../setup/dev_env_advanced_linux.html">
            
                <a href="../setup/dev_env_advanced_linux.html">
            
                    
                    고급 리눅스
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../setup/dev_env_windows.html">
            
                <a href="../setup/dev_env_windows.html">
            
                    
                    윈도우
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.3.1" data-path="../setup/dev_env_windows_cygwin.html">
            
                <a href="../setup/dev_env_windows_cygwin.html">
            
                    
                    Cygwin 툴체인
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3.2" data-path="../setup/dev_env_windows_vm.html">
            
                <a href="../setup/dev_env_windows_vm.html">
            
                    
                    가상 머신 툴체인
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3.3" data-path="../setup/dev_env_windows_bash_on_win.html">
            
                <a href="../setup/dev_env_windows_bash_on_win.html">
            
                    
                    윈도우용 배시 툴체인
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../setup/vscode.html">
            
                <a href="../setup/vscode.html">
            
                    
                    비주얼 스튜디오 코드 IDE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../setup/fast-rtps-installation.html">
            
                <a href="../setup/fast-rtps-installation.html">
            
                    
                    빠른 RTPS 설치
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../setup/generic_dev_tools.html">
            
                <a href="../setup/generic_dev_tools.html">
            
                    
                    추가 도구
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../setup/building_px4.html">
            
                <a href="../setup/building_px4.html">
            
                    
                    코드 빌드
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../apps/hello_sky.html">
            
                <a href="../apps/hello_sky.html">
            
                    
                    첫 프로그램 작성
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../apps/module_template.html">
            
                <a href="../apps/module_template.html">
            
                    
                    프로그램/모듈 서식
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../concept/">
            
                <a href="../concept/">
            
                    
                    개념
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../concept/architecture.html">
            
                <a href="../concept/architecture.html">
            
                    
                    PX4 구성 개요
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1.1" data-path="controller_diagrams.html">
            
                <a href="controller_diagrams.html">
            
                    
                    컨트롤러 구성도
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../concept/dronecode_architecture.html">
            
                <a href="../concept/dronecode_architecture.html">
            
                    
                    드론코드 플랫폼 개요
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../concept/flight_modes.html">
            
                <a href="../concept/flight_modes.html">
            
                    
                    비행 모드
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../concept/flight_tasks.html">
            
                <a href="../concept/flight_tasks.html">
            
                    
                    비행 동작
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../concept/mixing.html">
            
                <a href="../concept/mixing.html">
            
                    
                    믹서와 액추에이터
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../concept/custom_mixer_payload.html">
            
                <a href="../concept/custom_mixer_payload.html">
            
                    
                    개별 탑재 장치 믹서
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../concept/pwm_limit.html">
            
                <a href="../concept/pwm_limit.html">
            
                    
                    PWM limit 상태 머신
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../concept/system_startup.html">
            
                <a href="../concept/system_startup.html">
            
                    
                    시스템 시작
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../concept/sd_card_layout.html">
            
                <a href="../concept/sd_card_layout.html">
            
                    
                    SD 카드 배치
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../simulation/">
            
                <a href="../simulation/">
            
                    
                    시뮬레이션
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../simulation/jmavsim.html">
            
                <a href="../simulation/jmavsim.html">
            
                    
                    jMAVSim 시뮬레이션
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../simulation/multi_vehicle_jmavsim.html">
            
                <a href="../simulation/multi_vehicle_jmavsim.html">
            
                    
                    jMAVSim 다중 비행체 모의시험
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../simulation/gazebo.html">
            
                <a href="../simulation/gazebo.html">
            
                    
                    가제보 짐벌 모의시험
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../simulation/gazebo_vehicles.html">
            
                <a href="../simulation/gazebo_vehicles.html">
            
                    
                    가제보 기체
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../simulation/gazebo_worlds.html">
            
                <a href="../simulation/gazebo_worlds.html">
            
                    
                    가제보 월드(world)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../simulation/multi_vehicle_simulation_gazebo.html">
            
                <a href="../simulation/multi_vehicle_simulation_gazebo.html">
            
                    
                    가제보 다중 기체 모의시험
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../simulation/flightgear.html">
            
                <a href="../simulation/flightgear.html">
            
                    
                    플라이트기어 모의시험
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.4.1" data-path="../simulation/flightgear_vehicles.html">
            
                <a href="../simulation/flightgear_vehicles.html">
            
                    
                    플라이트기어 기체
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../simulation/multi_vehicle_flightgear.html">
            
                <a href="../simulation/multi_vehicle_flightgear.html">
            
                    
                    플라이트기어 다중 기체 모의시험
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../simulation/jsbsim.html">
            
                <a href="../simulation/jsbsim.html">
            
                    
                    JSBSim Simulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../simulation/airsim.html">
            
                <a href="../simulation/airsim.html">
            
                    
                    AirSim Simulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../simulation/multi-vehicle-simulation.html">
            
                <a href="../simulation/multi-vehicle-simulation.html">
            
                    
                    Multi-Vehicle Simulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../simulation/failsafes.html">
            
                <a href="../simulation/failsafes.html">
            
                    
                    Simulate Failsafes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../simulation/hitl.html">
            
                <a href="../simulation/hitl.html">
            
                    
                    HITL Simulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="../simulation/simulation-in-hardware.html">
            
                <a href="../simulation/simulation-in-hardware.html">
            
                    
                    Simulation-In-Hardware
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../hardware/">
            
                <a href="../hardware/">
            
                    
                    하드웨어
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../hardware/reference_design.html">
            
                <a href="../hardware/reference_design.html">
            
                    
                    비행체 제어 장치 참고 디자인
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../hardware/board_support_guide.html">
            
                <a href="../hardware/board_support_guide.html">
            
                    
                    Manufacturer’s Board Support Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../hardware/porting_guide.html">
            
                <a href="../hardware/porting_guide.html">
            
                    
                    Flight Controller Porting Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../hardware/porting_guide_nuttx.html">
            
                <a href="../hardware/porting_guide_nuttx.html">
            
                    
                    NuttX Board Porting Guide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../airframes/">
            
                <a href="../airframes/">
            
                    
                    Airframes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../airframes/airframe_reference.html">
            
                <a href="../airframes/airframe_reference.html">
            
                    
                    Airframes Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="../airframes/adding_a_new_frame.html">
            
                <a href="../airframes/adding_a_new_frame.html">
            
                    
                    Adding a New Airframe
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../middleware/drivers.html">
            
                <a href="../middleware/drivers.html">
            
                    
                    Device Drivers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../data_links/telemetry.html">
            
                <a href="../data_links/telemetry.html">
            
                    
                    Telemetry Radio
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.1" data-path="../data_links/sik_radio.html">
            
                <a href="../data_links/sik_radio.html">
            
                    
                    SiK Radio
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../sensor_bus/">
            
                <a href="../sensor_bus/">
            
                    
                    Sensor and Actuator I/O
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.1" data-path="../sensor_bus/i2c.html">
            
                <a href="../sensor_bus/i2c.html">
            
                    
                    I2C Bus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.2" data-path="../uavcan/">
            
                <a href="../uavcan/">
            
                    
                    UAVCAN Bus
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.2.1" data-path="../uavcan/bootloader_installation.html">
            
                <a href="../uavcan/bootloader_installation.html">
            
                    
                    UAVCAN Bootloader
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.2.2" data-path="../uavcan/node_firmware.html">
            
                <a href="../uavcan/node_firmware.html">
            
                    
                    UAVCAN Firmware Upgrades
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.2.3" data-path="../uavcan/node_enumeration.html">
            
                <a href="../uavcan/node_enumeration.html">
            
                    
                    UAVCAN Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.2.4" data-path="../uavcan/notes.html">
            
                <a href="../uavcan/notes.html">
            
                    
                    UAVCAN Various Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7.3" data-path="../uart/">
            
                <a href="../uart/">
            
                    
                    UART/Serial Ports
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.3.1" data-path="../uart/user_configurable_serial_driver.html">
            
                <a href="../uart/user_configurable_serial_driver.html">
            
                    
                    Port-Configurable Serial Drivers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../advanced/rtk_gps.html">
            
                <a href="../advanced/rtk_gps.html">
            
                    
                    RTK GPS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../advanced/gimbal_control.html">
            
                <a href="../advanced/gimbal_control.html">
            
                    
                    Gimbal (Mount) Control Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../companion_computer/pixhawk_companion.html">
            
                <a href="../companion_computer/pixhawk_companion.html">
            
                    
                    Companion Computers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../middleware/">
            
                <a href="../middleware/">
            
                    
                    미들웨어
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../middleware/uorb.html">
            
                <a href="../middleware/uorb.html">
            
                    
                    uORB 메시징
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../middleware/mavlink.html">
            
                <a href="../middleware/mavlink.html">
            
                    
                    MAVLink 메시징
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../middleware/micrortps.html">
            
                <a href="../middleware/micrortps.html">
            
                    
                    RTPS/ROS2 인터페이스
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.3.1" data-path="../middleware/micrortps_throughput_test.html">
            
                <a href="../middleware/micrortps_throughput_test.html">
            
                    
                    메시지 처리 시험
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3.2" data-path="../middleware/micrortps_manual_code_generation.html">
            
                <a href="../middleware/micrortps_manual_code_generation.html">
            
                    
                    클라이언트/에이전트 직접 생성
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../middleware/modules_main.html">
            
                <a href="../middleware/modules_main.html">
            
                    
                    모듈과 명령
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../middleware/modules_command.html">
            
                <a href="../middleware/modules_command.html">
            
                    
                    명령
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../middleware/modules_communication.html">
            
                <a href="../middleware/modules_communication.html">
            
                    
                    통신
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../middleware/modules_controller.html">
            
                <a href="../middleware/modules_controller.html">
            
                    
                    컨트롤러
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../middleware/modules_driver.html">
            
                <a href="../middleware/modules_driver.html">
            
                    
                    드라이버
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.4.1" data-path="../middleware/modules_driver_airspeed_sensor.html">
            
                <a href="../middleware/modules_driver_airspeed_sensor.html">
            
                    
                    항속 센서
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4.2" data-path="../middleware/modules_driver_baro.html">
            
                <a href="../middleware/modules_driver_baro.html">
            
                    
                    기압
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4.3" data-path="../middleware/modules_driver_distance_sensor.html">
            
                <a href="../middleware/modules_driver_distance_sensor.html">
            
                    
                    거리 센서
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4.4" data-path="../middleware/modules_driver_imu.html">
            
                <a href="../middleware/modules_driver_imu.html">
            
                    
                    관성계
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4.5" data-path="../middleware/modules_driver_magnetometer.html">
            
                <a href="../middleware/modules_driver_magnetometer.html">
            
                    
                    지자계
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../middleware/modules_estimator.html">
            
                <a href="../middleware/modules_estimator.html">
            
                    
                    추정자
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../middleware/modules_simulation.html">
            
                <a href="../middleware/modules_simulation.html">
            
                    
                    모의시험
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../middleware/modules_system.html">
            
                <a href="../middleware/modules_system.html">
            
                    
                    시스템
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../middleware/modules_template.html">
            
                <a href="../middleware/modules_template.html">
            
                    
                    서식
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../robotics/">
            
                <a href="../robotics/">
            
                    
                    로보틱스
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../ros/offboard_control.html">
            
                <a href="../ros/offboard_control.html">
            
                    
                    리눅스에서의 외부 제어
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../ros/">
            
                <a href="../ros/">
            
                    
                    ROS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="../ros/mavros_installation.html">
            
                <a href="../ros/mavros_installation.html">
            
                    
                    MAVROS (ROS용 MAVLink)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="../ros/mavros_offboard.html">
            
                <a href="../ros/mavros_offboard.html">
            
                    
                    MAVROS 오프 보드 예제
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" data-path="../simulation/ros_interface.html">
            
                <a href="../simulation/ros_interface.html">
            
                    
                    가제보 모의시험 환경의 ROS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.4" data-path="../simulation/gazebo_octomap.html">
            
                <a href="../simulation/gazebo_octomap.html">
            
                    
                    ROS의 OctoMap 모델
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.5" data-path="../ros/raspberrypi_installation.html">
            
                <a href="../ros/raspberrypi_installation.html">
            
                    
                    라즈베리 파이로의 ROS 설치
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.6" data-path="../ros/external_position_estimation.html">
            
                <a href="../ros/external_position_estimation.html">
            
                    
                    외부 위치 추정 (시각/움직임 기반)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.7" data-path="../ros/mavros_custom_messages.html">
            
                <a href="../ros/mavros_custom_messages.html">
            
                    
                    MAVROS에서의 개별 메시지 전송
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../robotics/dronekit.html">
            
                <a href="../robotics/dronekit.html">
            
                    
                    DroneKit
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../debug/">
            
                <a href="../debug/">
            
                    
                    디버깅/로깅
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../debug/faq.html">
            
                <a href="../debug/faq.html">
            
                    
                    자주 묻는 질문
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../debug/consoles.html">
            
                <a href="../debug/consoles.html">
            
                    
                    콘솔/셸
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.2.1" data-path="../debug/mavlink_shell.html">
            
                <a href="../debug/mavlink_shell.html">
            
                    
                    MAVLink 셸
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.2" data-path="../debug/system_console.html">
            
                <a href="../debug/system_console.html">
            
                    
                    시스템 콘솔
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../debug/swd_debug.html">
            
                <a href="../debug/swd_debug.html">
            
                    
                    SWD/JLink 디버깅 인터페이스
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../debug/gdb_debugging.html">
            
                <a href="../debug/gdb_debugging.html">
            
                    
                    오토파일럿 디버깅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../debug/eclipse_jlink.html">
            
                <a href="../debug/eclipse_jlink.html">
            
                    
                    Eclipse/JLink 하드웨어 디버깅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../debug/sensor_uorb_topic_debugging.html">
            
                <a href="../debug/sensor_uorb_topic_debugging.html">
            
                    
                    센서/토픽 디버깅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../debug/simulation_debugging.html">
            
                <a href="../debug/simulation_debugging.html">
            
                    
                    모의시험 디버깅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="../debug/debug_values.html">
            
                <a href="../debug/debug_values.html">
            
                    
                    디버깅 값 전송
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="../debug/system_wide_replay.html">
            
                <a href="../debug/system_wide_replay.html">
            
                    
                    시스템 범위 재현
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="../debug/profiling.html">
            
                <a href="../debug/profiling.html">
            
                    
                    프로파일링
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.11" data-path="../log/logging.html">
            
                <a href="../log/logging.html">
            
                    
                    로깅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.12" data-path="../log/flight_log_analysis.html">
            
                <a href="../log/flight_log_analysis.html">
            
                    
                    비행 로그 분석
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.13" data-path="../log/ulog_file_format.html">
            
                <a href="../log/ulog_file_format.html">
            
                    
                    ULog 파일 구성
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../tutorials/tutorials.html">
            
                <a href="../tutorials/tutorials.html">
            
                    
                    자습서
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../qgc/">
            
                <a href="../qgc/">
            
                    
                    지상 통제 장치
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../qgc/video_streaming.html">
            
                <a href="../qgc/video_streaming.html">
            
                    
                    Odroid C1에서 QGC로의 동영상 스트리밍 전송
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../qgc/video_streaming_wifi_broadcast.html">
            
                <a href="../qgc/video_streaming_wifi_broadcast.html">
            
                    
                    장거리 동영상 스트리밍 전송
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../tutorials/linux_sbus.html">
            
                <a href="../tutorials/linux_sbus.html">
            
                    
                    리눅스에서 원격 조종 수신 모듈 연결
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../advanced/">
            
                <a href="../advanced/">
            
                    
                    고급 주제
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../advanced/parameters_and_configurations.html">
            
                <a href="../advanced/parameters_and_configurations.html">
            
                    
                    매개변수와 설정
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../advanced/parameter_reference.html">
            
                <a href="../advanced/parameter_reference.html">
            
                    
                    매개변수 참고서
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../advanced/computer_vision.html">
            
                <a href="../advanced/computer_vision.html">
            
                    
                    컴퓨터 비전
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.3.1" data-path="../tutorials/motion-capture-vicon-optitrack.html">
            
                <a href="../tutorials/motion-capture-vicon-optitrack.html">
            
                    
                    움직임 촬영(Motion Capture) (VICON, Optitrack)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../advanced/realsense_intel_driver.html">
            
                <a href="../advanced/realsense_intel_driver.html">
            
                    
                    Intel RealSense R200 드라이버 설치
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../advanced/switching_state_estimators.html">
            
                <a href="../advanced/switching_state_estimators.html">
            
                    
                    상태 추정자(State Estimator) 전환
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="../advanced/out_of_tree_modules.html">
            
                <a href="../advanced/out_of_tree_modules.html">
            
                    
                    별도 모듈
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="../software_update/stm32_bootloader.html">
            
                <a href="../software_update/stm32_bootloader.html">
            
                    
                    STM32 부트로더
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.8" data-path="../advanced/system_tunes.html">
            
                <a href="../advanced/system_tunes.html">
            
                    
                    시스템 알림음
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../test_and_ci/">
            
                <a href="../test_and_ci/">
            
                    
                    플랫폼 시험과 지속 통합
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../test_and_ci/test_flights.html">
            
                <a href="../test_and_ci/test_flights.html">
            
                    
                    비행 시험
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1.1" data-path="../test_cards/mc_01_manual_modes.html">
            
                <a href="../test_cards/mc_01_manual_modes.html">
            
                    
                    시험 MC_01 - 수동 상태
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.2" data-path="../test_cards/mc_02_full_autonomous.html">
            
                <a href="../test_cards/mc_02_full_autonomous.html">
            
                    
                    시험 MC_02 - 완전 자동화
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.3" data-path="../test_cards/mc_03_auto_manual_mix.html">
            
                <a href="../test_cards/mc_03_auto_manual_mix.html">
            
                    
                    시험 MC_03 - 자동 / 수동 혼합
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.4" data-path="../test_cards/mc_04_failsafe_testing.html">
            
                <a href="../test_cards/mc_04_failsafe_testing.html">
            
                    
                    시험 MC_04 - 안전 장치 시험
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.1.5" data-path="../test_cards/mc_05_indoor_flight_manual_modes.html">
            
                <a href="../test_cards/mc_05_indoor_flight_manual_modes.html">
            
                    
                    시험 MC_05 - 실내 비행 (수동 상태)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../test_and_ci/unit_tests.html">
            
                <a href="../test_and_ci/unit_tests.html">
            
                    
                    단위 테스트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../test_and_ci/continous_integration.html">
            
                <a href="../test_and_ci/continous_integration.html">
            
                    
                    지속 통합
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../test_and_ci/jenkins_ci.html">
            
                <a href="../test_and_ci/jenkins_ci.html">
            
                    
                    젠킨스 지속 통합
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../test_and_ci/integration_testing.html">
            
                <a href="../test_and_ci/integration_testing.html">
            
                    
                    ROS 통합 테스트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../test_and_ci/integration_testing_mavsdk.html">
            
                <a href="../test_and_ci/integration_testing_mavsdk.html">
            
                    
                    MAVSDK 통합 테스트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="../test_and_ci/docker.html">
            
                <a href="../test_and_ci/docker.html">
            
                    
                    도커 컨테이너
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="../test_and_ci/maintenance.html">
            
                <a href="../test_and_ci/maintenance.html">
            
                    
                    유지 관리
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../contribute/">
            
                <a href="../contribute/">
            
                    
                    기여(와 유선 개발 미팅)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../contribute/dev_call.html">
            
                <a href="../contribute/dev_call.html">
            
                    
                    유선 개발 미팅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../contribute/code.html">
            
                <a href="../contribute/code.html">
            
                    
                    소스 코드 관리
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.2.1" data-path="../contribute/git_examples.html">
            
                <a href="../contribute/git_examples.html">
            
                    
                    GIT 예제
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../contribute/docs.html">
            
                <a href="../contribute/docs.html">
            
                    
                    문서
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="../contribute/translation.html">
            
                <a href="../contribute/translation.html">
            
                    
                    번역
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="../contribute/notation.html">
            
                <a href="../contribute/notation.html">
            
                    
                    용어/표기
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.6" data-path="../contribute/licenses.html">
            
                <a href="../contribute/licenses.html">
            
                    
                    라이선스
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../contribute/support.html">
            
                <a href="../contribute/support.html">
            
                    
                    지원
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">드론코드 관련 링크</li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <a target="_blank" href="https://docs.px4.io/master/en/">
            
                    
                    PX4 사용자 안내서
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <a target="_blank" href="https://docs.qgroundcontrol.com/en/">
            
                    
                    QGroundControl 사용자 안내서
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" >
            
                <a target="_blank" href="https://dev.qgroundcontrol.com/en/">
            
                    
                    QGroundControl 개발자 안내서
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" >
            
                <a target="_blank" href="https://mavlink.io/en/">
            
                    
                    MAVLink 안내서
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" >
            
                <a target="_blank" href="https://mavsdk.mavlink.io/develop/en/index.html">
            
                    
                    MAVSDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" >
            
                <a target="_blank" href="https://camera-manager.dronecode.org/en/">
            
                    
                    드론코드 카메라 관리자
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            GitBook에 게시
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >컨트롤러 구성도</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#xC870;&#xC885;-&#xC7A5;&#xCE58;-&#xAD6C;&#xC131;&#xB3C4;"><a name="&#xC870;&#xC885;-&#xC7A5;&#xCE58;-&#xAD6C;&#xC131;&#xB3C4;" class="plugin-anchor" href="#&#xC870;&#xC885;-&#xC7A5;&#xCE58;-&#xAD6C;&#xC131;&#xB3C4;"><i class="fa fa-link" aria-hidden="true"></i></a>&#xC870;&#xC885; &#xC7A5;&#xCE58; &#xAD6C;&#xC131;&#xB3C4;</h1>
<p>&#xC774; &#xC808;&#xC5D0;&#xC11C;&#xB294; PX4 &#xC8FC; &#xC870;&#xC885; &#xC7A5;&#xCE58; &#xAD6C;&#xC131;&#xB3C4;&#xB97C; &#xBCF4;&#xC5EC;&#xB4DC;&#xB9BD;&#xB2C8;&#xB2E4;.</p>
<p>&#xAD6C;&#xC131;&#xB3C4; &#xC0C1;&#xC758; &#xBA85;&#xCE6D;&#xC740; <a href="../contribute/notation.html">PX4 &#xD45C;&#xAE30; &#xBC29;&#xC2DD;</a>&#xC744; &#xB530;&#xB985;&#xB2C8;&#xB2E4;(&#xADF8;&#xB9AC;&#xACE0; &#xAC01; &#xD45C;&#xC2DC; &#xB0B4;&#xC6A9;&#xC5D0;&#xB294; &#xBC94;&#xB840;&#xAC00; &#xB530;&#xB985;&#xB2C8;&#xB2E4;).</p>
<!--    The diagrams were created with LaTeX / TikZ.
        The code can be found in assets/diagrams/mc_control_arch_tikz.tex.
        The easiest way to generate the diagrams and edit them is to copy the code and paste it an Overleaf (www.overleaf.com/) document to see the output.
-->
<h2 id="multicopter-control-architecture"><a name="multicopter-control-architecture" class="plugin-anchor" href="#multicopter-control-architecture"><i class="fa fa-link" aria-hidden="true"></i></a>Multicopter Control Architecture</h2>
<p><img src="../../assets/diagrams/mc_control_arch.jpg" alt="MC Controller Diagram"></p>
<ul>
<li>This is a standard cascaded control architecture.</li>
<li>The controllers are a mix of P and PID controllers.</li>
<li>Estimates come from <a href="https://docs.px4.io/master/en/advanced_config/tuning_the_ecl_ekf.html" target="_blank">EKF2</a>.</li>
<li>Depending on the mode, the outer (position) loop is bypassed (shown as a multiplexer after the outer loop). The position loop is only used when holding position or when the requested velocity in an axis is null.</li>
</ul>
<h3 id="multicopter-angular-rate-controller"><a name="multicopter-angular-rate-controller" class="plugin-anchor" href="#multicopter-angular-rate-controller"><i class="fa fa-link" aria-hidden="true"></i></a>Multicopter Angular Rate Controller</h3>
<p><img src="../../assets/diagrams/mc_angular_rate_diagram.jpg" alt="MC Rate Control Diagram"></p>
<ul>
<li>K-PID controller. See <a href="https://docs.px4.io/master/en/config_mc/pid_tuning_guide_multicopter.html#rate-controller" target="_blank">Rate Controller</a> for more information.</li>
<li>The integral authority is limited to prevent wind up.</li>
<li>A Low Pass Filter (LPF) is used on the derivative path to reduce noise.</li>
<li>The outputs are limited, usually at -1 and 1.</li>
</ul>
<h3 id="multicopter-attitude-controller"><a name="multicopter-attitude-controller" class="plugin-anchor" href="#multicopter-attitude-controller"><i class="fa fa-link" aria-hidden="true"></i></a>Multicopter Attitude Controller</h3>
<p><img src="../../assets/diagrams/mc_angle_diagram.jpg" alt="MC Angle Control Diagram"></p>
<ul>
<li>The attitude controller makes use of <a href="https://en.wikipedia.org/wiki/Quaternion" target="_blank">quaternions</a>.</li>
<li>The controller is implemented from this <a href="https://www.research-collection.ethz.ch/bitstream/handle/20.500.11850/154099/eth-7387-01.pdf" target="_blank">article</a>.</li>
<li>When tuning this controller, the only parameter of concern is the P gain.</li>
<li>The rate command is saturated.</li>
</ul>
<h3 id="multicopter-velocity-controller"><a name="multicopter-velocity-controller" class="plugin-anchor" href="#multicopter-velocity-controller"><i class="fa fa-link" aria-hidden="true"></i></a>Multicopter Velocity Controller</h3>
<p><img src="../../assets/diagrams/mc_velocity_diagram.jpg" alt="MC Velocity Control Diagram"></p>
<ul>
<li>PID controller to stabilise velocity. Commands an acceleration.</li>
<li>The integrator includes an anti-reset windup (ARW) using a clamping method.</li>
<li>The commanded acceleration is saturated.</li>
</ul>
<h3 id="multicopter-position-controller"><a name="multicopter-position-controller" class="plugin-anchor" href="#multicopter-position-controller"><i class="fa fa-link" aria-hidden="true"></i></a>Multicopter Position Controller</h3>
<p><img src="../../assets/diagrams/mc_position_diagram.jpg" alt="MC Position Control Diagram"></p>
<ul>
<li>Simple P controller that commands a velocity.</li>
<li>The commanded velocity is saturated to keep the velocity in certain limits.</li>
</ul>
<h4 id="combined-position-and-velocity-controller-diagram"><a name="combined-position-and-velocity-controller-diagram" class="plugin-anchor" href="#combined-position-and-velocity-controller-diagram"><i class="fa fa-link" aria-hidden="true"></i></a>Combined Position and Velocity Controller Diagram</h4>
<p><img src="../../assets/diagrams/px4_mc_position_controller_diagram.png" alt="MC Position Controller Diagram"></p>
<!-- The drawing is on draw.io: https://drive.google.com/open?id=13Mzjks1KqBiZZQs15nDN0r0Y9gM_EjtX
Request access from dev team. -->
<h2 id="&#xACE0;&#xC815;&#xC775;-&#xC704;&#xCE58;-&#xC870;&#xC885;&#xAE30;"><a name="&#xACE0;&#xC815;&#xC775;-&#xC704;&#xCE58;-&#xC870;&#xC885;&#xAE30;" class="plugin-anchor" href="#&#xACE0;&#xC815;&#xC775;-&#xC704;&#xCE58;-&#xC870;&#xC885;&#xAE30;"><i class="fa fa-link" aria-hidden="true"></i></a>&#xACE0;&#xC815;&#xC775; &#xC704;&#xCE58; &#xC870;&#xC885;&#xAE30;</h2>
<h3 id="total-energy-control-system-tecs"><a name="total-energy-control-system-tecs" class="plugin-anchor" href="#total-energy-control-system-tecs"><i class="fa fa-link" aria-hidden="true"></i></a>Total Energy Control System (TECS)</h3>
<p>The PX4 implementation of the Total Energy Control System (TECS) enables simultaneous control of true airspeed and altitude of a fixed wing aircraft. The code is implemented as a library which is used in the fixed wing position control module.</p>
<p><img src="../../assets/diagrams/tecs_in_context.svg" alt="TECS"></p>
<p>As seen in the diagram above, TECS receives as inputs airspeed and altitude setpoints and outputs a throttle and pitch angle setpoint. These two outputs are sent to the fixed wing attitude controller which implements the attitude control solution. It&apos;s therefore important to understand that the performance of TECS is directly affected by the performance of the pitch control loop. A poor tracking of airspeed and altitude is often caused by a poor tracking of the aircraft pitch angle.</p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-2x fa-edit"></strong>
<p> TECS &#xAC12;&#xC744; &#xC870;&#xC815;&#xD558;&#xAE30; &#xC804; &#xC790;&#xC138; &#xC870;&#xC885; &#xC7A5;&#xCE58; &#xC124;&#xC815;&#xAC12; &#xC870;&#xC815; &#xC0C1;&#xD0DC;&#xB97C; &#xD655;&#xC778;&#xD558;&#xC2ED;&#xC2DC;&#xC624;.</p>
</blockquote>
<p>Simultaneous control of true airspeed and height is not a trivial task. Increasing aircraft pitch angle will cause an increase in height but also a decrease in airspeed. Increasing the throttle will increase airspeed but also height will increase due to the increase in lift. Therefore, we have two inputs (pitch angle and throttle) which both affect the two outputs (airspeed and altitude) which makes the control problem challenging.</p>
<p>TECS offers a solution by respresenting the problem in terms of energies rather than the original setpoints. The total energy of an aircraft is the sum of kinetic and potential energy. Thrust (via throttle control) increases the total energy state of the aircraft. A given total energy state can be achieved by arbitrary combinations of potential and kinetic energies. In other words, flying at a high altitude but at a slow speed can be equivalent to flying at a low altitude but at a faster airspeed in a total energy sense. We refer to this as the specific energy balance and it is calculated from the current altitude and true airspeed setpoint. The specific energy balance is controlled via the aircraft pitch angle. An increase in pitch angle transfers kinetic to potential energy and a negative pitch angle vice versa. The control problem was therefore decoupled by transforming the initial setpoints into energy quantities which can be controlled independently. We use thrust to regulate the specific total energy of the vehicle and pitch maintain a specific balance between potential (height) and kinetic (speed) energy.</p>
<h4 id="total-energy-control-loop"><a name="total-energy-control-loop" class="plugin-anchor" href="#total-energy-control-loop"><i class="fa fa-link" aria-hidden="true"></i></a>Total energy control loop</h4>
<p><img src="../../assets/diagrams/TECS_throttle.jpg" alt="Energy loop"></p>
<h4 id="total-energy-balance-control-loop"><a name="total-energy-balance-control-loop" class="plugin-anchor" href="#total-energy-balance-control-loop"><i class="fa fa-link" aria-hidden="true"></i></a>Total energy balance control loop</h4>
<p><img src="../../assets/diagrams/TECS_pitch.jpg" alt="Energy balance loop"></p>
<p>The total energy of an aircraft is the sum of kinetic and potential energy:</p>
<p><script type="math/tex; ">E_T = \frac{1}{2} m V_T^2 + m g h</script>,</p>
<p>Taking the derivative with respect to time leads to the total energy rate:</p>
<p><script type="math/tex; ">\dot{E_T} = m V_T \dot{V_T} + m g \dot{h}</script>.</p>
<p>From this, the specific energy rate can be formed as:</p>
<p><script type="math/tex; ">\dot{E} = \frac{\dot{E_T}}{mgV_T} = \frac{\dot{V_T}}{g} + \frac{\dot{h}}{V_T} = \frac{\dot{V_T}}{g} + sin(\gamma) </script></p>
<p>where <script type="math/tex; ">\gamma</script> is the flight plan angle. For small <script type="math/tex; ">\gamma</script> we can approximate this as</p>
<p><script type="math/tex; "> \dot{E} \approx \frac{\dot{V_T}}{g} + \gamma </script>.</p>
<p>From the dynamic equations of an aircraft we get the following relation:</p>
<p><script type="math/tex; "> T - D = mg(\frac{\dot{V_T}}{g} + sin(\gamma)) \approx mg(\frac{\dot{V_T}}{g} + \gamma) </script>,</p>
<p>where T and D are the thrust and drag forces. In level flight, initial thrust is trimmed against the drag and a change in thrust results thus in:</p>
<p><script type="math/tex; "> \Delta T = mg(\frac{\dot{V_T}}{g} + \gamma) </script>.</p>
<p>As can be seen, <script type="math/tex; ">\Delta T</script> is proportional to <script type="math/tex; ">\dot{E}</script>, and thus the thrust setpoint should be used for total energy control.</p>
<p>Elevator control on the other hand is energy conservative, and is thus used for exchanging potentional energy for kinetic energy and vice versa. To this end, a specific energy balance rate is defined as</p>
<p><script type="math/tex; ">\dot{B} = \gamma - \frac{\dot{V_T}}{g}</script>.</p>
<h2 id="&#xACE0;&#xC815;&#xC775;-&#xC704;&#xCE58;-&#xC870;&#xC885;&#xAE30;"><a name="&#xACE0;&#xC815;&#xC775;-&#xC704;&#xCE58;-&#xC870;&#xC885;&#xAE30;" class="plugin-anchor" href="#&#xACE0;&#xC815;&#xC775;-&#xC704;&#xCE58;-&#xC870;&#xC885;&#xAE30;"><i class="fa fa-link" aria-hidden="true"></i></a>&#xACE0;&#xC815;&#xC775; &#xC704;&#xCE58; &#xC870;&#xC885;&#xAE30;</h2>
<p><img src="../../assets/diagrams/px4_fw_attitude_controller_diagram.png" alt="FW Attitude Controller Diagram"></p>
<!-- The drawing is on draw.io: https://drive.google.com/file/d/1ibxekmtc6Ljq60DvNMplgnnU-JOvKYLQ/view?usp=sharing
Request access from dev team. -->
<p>The attitude controller works using a cascaded loop method. The outer loop computes the error between the attitude setpoint and the estimated attitude that, multiplied by a gain (P controller), generates a rate setpoint. The inner loop then computes the error in rates and uses a PI (proportional + integral) controller to generate the desired angular acceleration.</p>
<p>The angular position of the control effectors (ailerons, elevators, rudders, ...) is then computed using this desired angular acceleration and a priori knowledge of the system through control allocation (also known as mixing). Furthermore, since the control surfaces are more effective at high speed and less effective at low speed, the controller - tuned for cruise speed - is scaled using the airspeed measurements (if such a sensor is used).</p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-2x fa-edit"></strong>
<p> If no airspeed sensor is used then gain scheduling for the FW attitude controller is disabled (it&apos;s open loop); no correction is/can be made in TECS using airspeed feedback.</p>
</blockquote>
<p>The feedforward gain is used to compensate for aerodynamic damping. Basically, the two main components of body-axis moments on an aircraft are produced by the control surfaces (ailerons, elevators, rudders, - producing the motion) and the aerodynamic damping (proportional to the body rates - counteracting the motion). In order to keep a constant rate, this damping can be compensated using feedforward in the rate loop.</p>
<p>The roll and pitch controllers have the same structure and the longitudinal and lateral dynamics are assumed to be uncoupled enough to work independently. The yaw controller, however, generates its yaw rate setpoint using the turn coordination constraint in order to minimize lateral acceleration, generated when the aircraft is slipping. The yaw rate controller also helps to counteract adverse yaw effects (<a href="https://youtu.be/sNV_SDDxuWk" target="_blank">https://youtu.be/sNV_SDDxuWk</a>) and to damp the <a href="https://en.wikipedia.org/wiki/Dutch_roll" target="_blank">Dutch roll mode</a> by providing extra directional damping.</p>
<h2 id="&#xC218;&#xC9C1;-&#xC774;&#xCC29;&#xB959;-&#xBE44;&#xD589;&#xCCB4;-&#xC81C;&#xC5B4;-&#xC7A5;&#xCE58;"><a name="&#xC218;&#xC9C1;-&#xC774;&#xCC29;&#xB959;-&#xBE44;&#xD589;&#xCCB4;-&#xC81C;&#xC5B4;-&#xC7A5;&#xCE58;" class="plugin-anchor" href="#&#xC218;&#xC9C1;-&#xC774;&#xCC29;&#xB959;-&#xBE44;&#xD589;&#xCCB4;-&#xC81C;&#xC5B4;-&#xC7A5;&#xCE58;"><i class="fa fa-link" aria-hidden="true"></i></a>&#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959; &#xBE44;&#xD589;&#xCCB4; &#xC81C;&#xC5B4; &#xC7A5;&#xCE58;</h2>
<p><img src="../../assets/diagrams/VTOL_controller_diagram.png" alt="&#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959; &#xC790;&#xC138; &#xC81C;&#xC5B4; &#xB2E4;&#xC774;&#xC5B4;&#xADF8;&#xB7A8;"></p>
<!-- The drawing is on draw.io: https://drive.google.com/file/d/1tVpmFhLosYjAtVI46lfZkxBz_vTNi8VH/view?usp=sharing
Request access from dev team. -->
<p>&#xC774; &#xC808;&#xC5D0;&#xC11C;&#xB294; &#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959;(VTOL)&#xAE30;&#xC758; &#xAC04;&#xB2E8;&#xD55C; &#xAC1C;&#xC694; &#xB0B4;&#xC6A9;&#xC744; &#xB2E4;&#xB8F9;&#xB2C8;&#xB2E4;. &#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959; &#xBE44;&#xD589; &#xC81C;&#xC5B4; &#xC7A5;&#xCE58;&#xB294; &#xBA40;&#xD2F0;&#xCF65;&#xD130;&#xC640; &#xACE0;&#xC815;&#xC775; &#xC81C;&#xC5B4; &#xC7A5;&#xCE58;&#xB85C; &#xAD6C;&#xC131;&#xD558;&#xBA70; &#xAC01; &#xBD80;&#xBD84;&#xC740; &#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959; &#xBAA8;&#xB4DC;&#xB97C; &#xBCC4;&#xAC1C;&#xB85C; &#xB610;&#xB294; &#xBAA8;&#xB4DC; &#xC804;&#xC774; &#xC9C4;&#xD589; &#xACFC;&#xC815;&#xC5D0;&#xC11C; &#xB3D9;&#xC2DC;&#xC5D0; &#xB3D9;&#xC791;&#xD558;&#xAE30;&#xB3C4; &#xD569;&#xB2C8;&#xB2E4;. The diagram above presents a simplified control diagram. &#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959;&#xAE30; &#xC790;&#xC138; &#xC81C;&#xC5B4; &#xC7A5;&#xCE58; &#xBE14;&#xB85D;&#xC740; &#xB2E4;&#xC591;&#xD55C; &#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959; &#xBAA8;&#xB4DC;&#xB97C; &#xC804;&#xD658;&#xD558;&#xACE0; &#xD569;&#xC131;&#xD558;&#xB294; &#xB85C;&#xC9C1;&#xC5D0; &#xD544;&#xC694;&#xD55C; &#xC218;&#xB2E8;&#xC744; &#xC8FC;&#xB85C; &#xAC16;&#xCD94;&#xACE0; &#xC788;&#xC73C;&#xBA70;, &#xB610;&#xD55C; &#xC804;&#xC774; &#xB3D9;&#xC791; &#xC9C4;&#xD589;&#xC2DC; &#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959; &#xD615;&#xD0DC;&#xC758; &#xC81C;&#xC5B4; &#xB3D9;&#xC791;&#xB3C4; &#xC218;&#xD589;&#xD569;&#xB2C8;&#xB2E4;(&#xC608;: &#xC804;&#xC774; &#xB3D9;&#xC791; &#xC9C4;&#xD589;&#xC2DC; &#xD45C;&#xC900; &#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959;&#xAE30;&#xC758; &#xCD94;&#xC9C4; &#xBAA8;&#xD130;&#xC758; &#xCD9C;&#xB825; &#xC99D;&#xAC00;). &#xD604;&#xC7AC; &#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959; &#xBAA8;&#xB4DC;&#xC5D0; &#xB530;&#xB77C; &#xC774; &#xBE14;&#xB85D;&#xC758; &#xC785;&#xB825;&#xC740; &quot;&#xAC00;&#xC0C1;&quot; &#xC774;&#xBA70;, &#xC77C;&#xBD80;&#xB294; &#xC81C;&#xC5B4; &#xC7A5;&#xCE58;&#xC5D0;&#xC11C; &#xBB34;&#xC2DC;&#xD558;&#xAE30;&#xB3C4; &#xD569;&#xB2C8;&#xB2E4;.</p>
<p>&#xD45C;&#xC900;/&#xD2F8;&#xD2B8;&#xB85C;&#xD130; &#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959;&#xAE30;&#xC5D0;&#xC11C;&#xB294; &#xACE0;&#xC815;&#xC775;&#xC73C;&#xB85C; &#xC804;&#xC774;&#xD558;&#xB294; &#xB3D9;&#xC548; &#xC790;&#xC138; &#xC81C;&#xC5B4; &#xC7A5;&#xCE58;&#xC5D0;&#xC11C; &#xC18D;&#xB3C4; &#xC124;&#xC815;&#xAC12;&#xC744; &#xBD80;&#xC5EC;&#xD558;&#xBA70;, &#xBCC4;&#xAC1C;&#xC758; &#xC18D;&#xB3C4; &#xC81C;&#xC5B4; &#xC7A5;&#xCE58;&#xC5D0;&#xC11C; &#xD574;&#xB2F9; &#xAC12;&#xC744; &#xBC1B;&#xC544; &#xBA40;&#xD2F0;&#xCF65;&#xD130;&#xC640; &#xACE0;&#xC815;&#xC775; &#xC561;&#xCE04;&#xC5D0;&#xC774;&#xD130;&#xC6A9; &#xD1A0;&#xD06C; &#xBA85;&#xB839;&#xC744; &#xC790;&#xCCB4; &#xC778;&#xAC00;&#xD569;&#xB2C8;&#xB2E4;. For tailsitters, during transition the multicopter attitude controller is running.</p>
<p>&#xC218;&#xC9C1; &#xC774;&#xCC29;&#xB959;&#xAE30; &#xC790;&#xC138; &#xBE14;&#xB85D;&#xC758; &#xCD9C;&#xB825;&#xC740; &#xBA40;&#xD2F0;&#xCF65;&#xD130;&#xC5D0;&#xC11C;&#xC758; &#xD1A0;&#xD06C;&#xC640; &#xD798; &#xBA85;&#xB839;(&#xBCF4;&#xD1B5; <code>actuator_controls_0</code>), &#xACE0;&#xC815;&#xC775;&#xC5D0;&#xC11C;&#xC758; &#xC561;&#xCE04;&#xC5D0;&#xC774;&#xD130;(&#xBCF4;&#xD1B5; <code>actuator_controls_1</code>)&#xB85C; &#xB098;&#xB215;&#xB2C8;&#xB2E4;. These are handled in an airframe-specific mixer file (see <a href="../concept/mixing.html">Mixing</a>).</p>
<p>For more information on the tuning of the transition logic inside the VTOL block, see <a href="https://docs.px4.io/master/en/config_vtol/" target="_blank">VTOL Configuration</a>.</p>
<h3 id="airspeed-scaling"><a name="airspeed-scaling" class="plugin-anchor" href="#airspeed-scaling"><i class="fa fa-link" aria-hidden="true"></i></a>Airspeed Scaling</h3>
<p>The objective of this section is to explain with the help of equations why and how the output of the rate PI and feedforward (FF) controllers can be scaled with airspeed to improve the control performance. We will first present the simplified linear dimensional moment equation on the roll axis, then show the influence of airspeed on the direct moment generation and finally, the influence of airspeed during a constant roll.</p>
<p>As shown in the fixed-wing attitude controller above, the rate controllers produce angular acceleration setpoints for the control allocator (here named &quot;mixer&quot;). In order to generate these desired angular accelerations, the mixer produces torques using available aerodynamic control surfaces (e.g.: a standard airplane typically has two ailerons, two elevators and a rudder). The torques generated by those control surfaces is highly influenced by the relative airspeed and the air density, or more precisely, by the dynamic pressure. If no airspeed scaling is made, a controller tightly tuned for a certain cruise airspeed will make the aircraft oscillate at higher airspeed or will give bad tracking performance at low airspeed.</p>
<p>The reader should be aware of the difference between the <a href="https://en.wikipedia.org/wiki/True_airspeed" target="_blank">true airspeed (TAS)</a> and the <a href="https://en.wikipedia.org/wiki/Indicated_airspeed" target="_blank">indicated airspeed (IAS)</a> as their values are significantly different when not flying at sea level.</p>
<p>The definition of the dynamic pressure is</p>
<p><script type="math/tex; ">\bar{q} = \frac{1}{2} \rho V_T^2</script>,</p>
<p>where <script type="math/tex; ">\rho</script> is the air density and <script type="math/tex; ">V_T</script> the true airspeed (TAS).</p>
<p>Taking the roll axis for the rest of this section as an example, the dimensional roll moment can be written</p>
<p><script type="math/tex; ">\ell = \frac{1}{2}\rho V_T^2 S b C_\ell = \bar{q} S b C_\ell</script>,</p>
<p>where <script type="math/tex; ">\ell</script> is the roll moment, <script type="math/tex; ">b</script> the wing span and <script type="math/tex; ">S</script> the reference surface.</p>
<p>The nondimensional roll moment derivative <script type="math/tex; ">C_\ell</script> can be modeled using the aileron effectiveness derivative <script type="math/tex; ">C_{\ell_{\delta_a}}</script>, the roll damping derivative <script type="math/tex; ">C_{\ell_p}</script> and the dihedral derivative <script type="math/tex; ">C_{\ell_\beta}</script></p>
<p><script type="math/tex; ">C_\ell = C_{\ell_0} + C_{\ell_\beta}\:\beta + C_{\ell_p}\:\frac{b}{2V_T}\:p + C_{\ell_{\delta_a}} \:\delta_a</script>,</p>
<p>where <script type="math/tex; ">\beta</script> is the sideslip angle, <script type="math/tex; ">p</script> the body roll rate and <script type="math/tex; ">\delta_a</script> the aileron deflection.</p>
<p>Assuming a symmetric (<script type="math/tex; ">C_{\ell_0} = 0</script>) and coordinated (<script type="math/tex; ">\beta = 0</script>) aircraft, the equation can be simplified using only the rollrate damping and the roll moment produced by the ailerons</p>
<p><script type="math/tex; ">\ell = \frac{1}{2}\rho V_T^2 S b \left [C_{\ell_{\delta_a}} \:\delta_a + C_{\ell_p}\:\frac{b}{2V_T} \: p \right ]</script>.</p>
<p>This final equation is then taken as a baseline for the two next subsections to determine the airspeed scaling expression required for the PI and the FF controllers.</p>
<h4 id="static-torque-pi-scaling"><a name="static-torque-pi-scaling" class="plugin-anchor" href="#static-torque-pi-scaling"><i class="fa fa-link" aria-hidden="true"></i></a>Static torque (PI) scaling</h4>
<p>At a zero rates condition (<script type="math/tex; ">p = 0</script>), the damping term vanishes and a constant - instantaneous - torque can be generated using</p>
<p><script type="math/tex; ">\ell = \frac{1}{2}\rho V_T^2 S b \: C_{\ell_{\delta_a}} \:\delta_a = \bar{q} S b \: C_{\ell_{\delta_a}} \:\delta_a</script>.</p>
<p>Extracting <script type="math/tex; ">\delta_a</script> gives</p>
<p><script type="math/tex; ">\delta_a = \frac{2bS}{C_{\ell_{\delta_a}}} \frac{1}{\rho V_T^2} \ell = \frac{bS}{C_{\ell_{\delta_a}}} \frac{1}{\bar{q}} \ell</script>,</p>
<p>where the first fraction is constant and the second one depends on the air density and the true airspeed squared.</p>
<p>Furthermore, instead of scaling with the air density and the TAS, it can be shown that the indicated airspeed (IAS, <script type="math/tex; ">V_I</script>) is inherently adjusted by the air density since at low altitude and speed, IAS can be converted to TAS using a simple density error factor</p>
<p><script type="math/tex; ">V_T = V_I \sqrt{\frac{\rho_0}{\rho}}</script>,</p>
<p>where <script type="math/tex; ">\rho_o</script> is the air density as sea level, 15&#xB0;C.</p>
<p>Squaring, rearranging and adding a 1/2 factor to both sides makes the dynamic pressure <script type="math/tex; ">\bar{q}</script> expression appear</p>
<p><script type="math/tex; ">\bar{q} = \frac{1}{2} \rho V_T^2 = \frac{1}{2} V_I^2 \rho_0</script>.</p>
<p>We can now easily see that the dynamic pressure is proportional to the IAS squared</p>
<p><script type="math/tex; ">\bar{q} \propto V_I^2</script>.</p>
<p>The scaler previously containing TAS and the air density can finally be written using IAS only</p>
<p><script type="math/tex; ">\delta_a = \frac{2bS}{C_{\ell_{\delta_a}}\rho_0} \frac{1}{V_I^2} \ell</script>.</p>
<h4 id="rate-ff-scaling"><a name="rate-ff-scaling" class="plugin-anchor" href="#rate-ff-scaling"><i class="fa fa-link" aria-hidden="true"></i></a>Rate (FF) scaling</h4>
<p>The main use of the feedforward of the rate controller is to compensate for the natural rate damping. Starting again from the baseline dimensional equation but this time, during a roll at constant speed, the torque produced by the ailerons should exactly compensate for the damping such as</p>
<p><script type="math/tex; ">- C_{\ell_{\delta_a}} \:\delta_a = C_{\ell_p} \frac{b}{2 V_T} \: p</script>.</p>
<p>Rearranging to extract the ideal ailerons deflection gives</p>
<p><script type="math/tex; ">\delta_a = -\frac{b \: C_{\ell_p}}{2 \: C_{\ell_{\delta_a}}} \frac{1}{V_T} \: p</script>.</p>
<p>The first fraction gives the value of the ideal feedforward and we can see that the scaling is linear to the TAS. Note that the negative sign is then absorbed by the roll damping derivative which is also negative.</p>
<h4 id="conclusion"><a name="conclusion" class="plugin-anchor" href="#conclusion"><i class="fa fa-link" aria-hidden="true"></i></a>Conclusion</h4>
<p>The output of the rate PI controller has to be scaled with the indicated airspeed (IAS) squared and the output of the rate feedforward (FF) has to be scaled with the true airspeed (TAS)</p>
<p><script type="math/tex; ">\delta_{a} = \frac{V_{I_0}^2}{V_I^2} \delta_{a_{PI}} + \frac{V_{T_0}}{V_T} \delta_{a_{FF}}</script>,</p>
<p>where <script type="math/tex; ">V_{I_0}</script> and <script type="math/tex; ">V_{T_0}</script> are the IAS and TAS at trim conditions.</p>
<p>Finally, since the actuator outputs are normalized and that the mixer and the servo blocks are assumed to be linear, we can rewrite this last equation as follows</p>
<p><script type="math/tex; ">\dot{\mathbf{\omega}}*{sp}^b = \frac{V*{I_0}^2}{V_I^2} \dot{\mathbf{\omega}}*{sp*{PI}}^b + \frac{V_{T_0}}{V_T} \dot{\mathbf{\omega}}*{sp*{FF}}^b</script>,</p>
<p>and implement it directly in the rollrate, pitchrate and yawrate controllers.</p>
<h4 id="tuning-recommendations"><a name="tuning-recommendations" class="plugin-anchor" href="#tuning-recommendations"><i class="fa fa-link" aria-hidden="true"></i></a>Tuning recommendations</h4>
<p>The beauty of this airspeed scaling algorithm is that it does not require any specific tuning. However, the quality of the airspeed measurements directly influences its performance.</p>
<p>Furthermore, to get the largest stable flight envelope, one should tune the attitude controllers at an airspeed value centered between the stall speed and the maximum airspeed of the vehicle (e.g.: an airplane that can fly between 15 and 25m/s should be tuned at 20m/s). This &quot;tuning&quot; airspeed should be set in the <a href="../advanced/parameter_reference.html#FW_AIRSPD_TRIM">FW_AIRSPD_TRIM</a> parameter.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../concept/architecture.html" class="navigation navigation-prev " aria-label="Previous page: PX4 구성 개요">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../concept/dronecode_architecture.html" class="navigation navigation-next " aria-label="Next page: 드론코드 플랫폼 개요">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"컨트롤러 구성도","level":"1.3.1.1","depth":3,"next":{"title":"드론코드 플랫폼 개요","level":"1.3.2","depth":2,"path":"concept/dronecode_architecture.md","ref":"concept/dronecode_architecture.md","articles":[]},"previous":{"title":"PX4 구성 개요","level":"1.3.1","depth":2,"path":"concept/architecture.md","ref":"concept/architecture.md","articles":[{"title":"컨트롤러 구성도","level":"1.3.1.1","depth":3,"path":"flight_stack/controller_diagrams.md","ref":"flight_stack/controller_diagrams.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["youtube","richquotes@git+https://github.com/Dronecode/gitbook-plugin-richquotes.git","collapsible-menu","anchors","page-toc-button","ga","language-picker","custom-favicon","bulk-redirect@git+https://github.com/Dronecode/gitbook-plugin-bulk-redirect.git","toolbar@git+https://github.com/hamishwillee/gitbook-plugin-toolbar.git","validate-links","versions-select@git+https://github.com/Dronecode/gitbook-plugin-versions-select.git","mathjax@git+https://github.com/Dronecode/plugin-mathjax.git#update_cdn","-mermaid","-stub-out-blocks@git+https://github.com/hamishwillee/gitbook-plugin-stub-out-blocks.git","theme-dronecode@git+https://github.com/dronecode/theme-dronecode.git"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"theme-dronecode":{"logo":{"logo_large":"gitbook-plugin-theme-dronecode/images/dronecode_top_bar_logo_full.png","logo_small":"gitbook-plugin-theme-dronecode/images/dronecode_top_bar_logo_small.png","url":"https://www.dronecode.org/"}},"validate-links":{"defaultScheme":"https","local":"warn","remote":"disabled"},"collapsible-menu":{},"language-picker":{"grid-columns":3},"youtube":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"versions-select":{"type":"branches"},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{"tip":{"alert":"success","picto":"fa-thumbs-o-up"}},"highlight":{},"favicon":"favicon.ico","page-toc-button":{},"bulk-redirect":{"basepath":"/","redirectsFile":"redirects.json"},"custom-favicon":{},"mathjax":{"forceSVG":false,"version":"2.7.6"},"ga":{"configuration":"auto","token":"UA-33658859-3"},"versions":{"gitbookConfigURL":"https://raw.githubusercontent.com/PX4/Devguide/master/book.json","options":[{"value":"https://dev.px4.io/master/en/","text":"master"},{"value":"https://dev.px4.io/v1.11/en/","text":"1.11 - stable"},{"value":"https://dev.px4.io/v1.10/en/","text":"1.10"},{"value":"https://dev.px4.io/v1.9.0/en/","text":"1.9 "},{"value":"https://dev.px4.io/v1.8.2/en/","text":"1.8.2"},{"value":"https://dev.px4.io/v1.8.0/en/","text":"1.8.0"}]},"toolbar":{"buttons":[{"label":"Bug tracker","icon":"fa fa-bug","position":"left","url":"https://github.com/PX4/Devguide/issues/new?title=Doc+Bug:+{{title}}&body=DESCRIBE+PROBLEM+WITH+DOCS+HERE%0A%0ABug+Page:+[{{title}}]({{url}})"},{"label":"GitHub","icon":"fa fa-github","url":"https://github.com/PX4/Devguide"},{"label":"Edit page on github","icon":"fa fa-pencil-square-o","position":"left","url":"https://github.com/PX4/Devguide/edit/master/{{filepath_lang}}"}]},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"logo":"./assets/site/logo_pro_small.png","px4_version":"master"},"title":"PX4 Developer Guide","language":"ko","gitbook":"*"},"file":{"path":"flight_stack/controller_diagrams.md","mtime":"2020-11-05T10:49:02.890Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-11-05T10:49:55.918Z"},"basePath":"..","book":{"language":"ko"}});
        });
    </script>
</div>

    

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-toolbar/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-versions-select/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mathjax/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

